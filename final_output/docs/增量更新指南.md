# é¸£æ½®æ•°æ®å¢é‡æ›´æ–°æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æŒ‡å—å°†å‘Šè¯‰ä½ å¦‚ä½•åœ¨é¸£æ½®æ¸¸æˆæ›´æ–°åï¼ˆä¾‹å¦‚35å¤©åæ–°ç‰ˆæœ¬å‘å¸ƒï¼‰ï¼Œå¿«é€Ÿå¢é‡æ›´æ–°æ‰€æœ‰æ•°æ®æ–‡ä»¶ã€‚

**é‡è¦**: æœ¬æŒ‡å—é€‚ç”¨äºå·²æ¸…ç†å¹¶æ‰“åŒ…åˆ° `final_output` ç›®å½•çš„å®Œæ•´å·¥ä½œåŒºã€‚

## ğŸ“¦ ç›®å½•ç»“æ„

```
final_output/
â”œâ”€â”€ dialogs_zh-Hans_complete.jsonl    # å®Œæ•´å¯¹è¯æ•°æ®
â”œâ”€â”€ characters.jsonl                   # è§’è‰²ä¿¡æ¯
â”œâ”€â”€ items.jsonl                        # ç‰©å“ä¿¡æ¯
â”œâ”€â”€ weapons.jsonl                      # æ­¦å™¨ä¿¡æ¯
â”œâ”€â”€ enemies.jsonl                      # æ•Œäººä¿¡æ¯
â”œâ”€â”€ achievements.jsonl                 # æˆå°±ä¿¡æ¯
â”œâ”€â”€ ConfigDB/                          # æ¸¸æˆé…ç½®æ–‡ä»¶
â”œâ”€â”€ TextMap/                           # æ–‡æœ¬æ˜ å°„
â””â”€â”€ scripts/                           # å¤„ç†è„šæœ¬
    â”œâ”€â”€ complete_dialogue_processor.py
    â”œâ”€â”€ auto_scan_categories.py
    â”œâ”€â”€ generate_split_data.py
    â”œâ”€â”€ analyze_final_quality.py
    â”œâ”€â”€ extract_characters.py
    â”œâ”€â”€ extract_items.py
    â”œâ”€â”€ extract_weapons.py
    â”œâ”€â”€ extract_enemies.py
    â””â”€â”€ extract_achievements.py
```

## ğŸ¯ æœ€ç»ˆè¾“å‡ºæ–‡ä»¶

å¤„ç†å®Œæˆåï¼Œä½ å°†å¾—åˆ°ä»¥ä¸‹6ä¸ªJSONLæ–‡ä»¶ï¼š

1. **`dialogs_zh-Hans_complete.jsonl`** - å®Œæ•´å¯¹è¯æ•°æ®ï¼ˆæœ€å¤§æœ€é‡è¦ï¼‰
2. **`characters.jsonl`** - è§’è‰²ä¿¡æ¯ï¼ˆåŸrag_input_split.jsonlï¼‰
3. **`items.jsonl`** - ç‰©å“ä¿¡æ¯
4. **`weapons.jsonl`** - æ­¦å™¨ä¿¡æ¯
5. **`enemies.jsonl`** - æ•Œäººä¿¡æ¯
6. **`achievements.jsonl`** - æˆå°±ä¿¡æ¯

## ğŸš€ æ›´æ–°æµç¨‹ï¼ˆ35å¤©åæ¸¸æˆæ›´æ–°ï¼‰

### åœºæ™¯1ï¼šå®Œæ•´çš„æ¸¸æˆæ›´æ–°

**å‡†å¤‡æ­¥éª¤**:
1. è¿›å…¥ `final_output` ç›®å½•
2. å¤‡ä»½å½“å‰è¾“å‡ºæ–‡ä»¶
3. æ›¿æ¢ `ConfigDB/` å’Œ `TextMap/` ç›®å½•ä¸ºæ–°ç‰ˆæœ¬

**å¤„ç†æ­¥éª¤**:

```bash
cd final_output

# 1. æ£€æŸ¥æ–°æ•°æ®æ–‡ä»¶
python scripts/generate_split_data.py check

# 2. ç”Ÿæˆæ–°çš„splitæ•°æ®
python scripts/generate_split_data.py

# 3. å¤„ç†æ‰€æœ‰å¯¹è¯æ•°æ®ï¼ˆä¸€é”®å®Œæˆï¼‰
python scripts/complete_dialogue_processor.py

# 4. éªŒè¯è´¨é‡
python scripts/analyze_final_quality.py

# 5. æ›´æ–°å…¶ä»–æ•°æ®æ–‡ä»¶ï¼ˆå¦‚æœéœ€è¦ï¼‰
python scripts/extract_characters.py
python scripts/extract_items.py
python scripts/extract_weapons.py
python scripts/extract_enemies.py
python scripts/extract_achievements.py
```

### åœºæ™¯2ï¼šåªæ›´æ–°å¯¹è¯æ•°æ®

**æ­¥éª¤**:

```bash
cd final_output

# 1. æ›¿æ¢åŸå§‹æ•°æ®æ–‡ä»¶
# å°†æ–°ç‰ˆæœ¬çš„ dialogs_zh-Hans.jsonl å¤åˆ¶åˆ°å¯¹åº”ä½ç½®

# 2. ç”Ÿæˆsplitæ•°æ®
python scripts/generate_split_data.py

# 3. å¤„ç†å¯¹è¯æ•°æ®
python scripts/complete_dialogue_processor.py

# 4. éªŒè¯
python scripts/analyze_final_quality.py
```

### åœºæ™¯3ï¼šåªæ›´æ–°é…ç½®æ–‡ä»¶

**æ­¥éª¤**:

```bash
cd final_output

# 1. æ›¿æ¢ ConfigDB/ å’Œ TextMap/ ç›®å½•

# 2. é‡æ–°å¤„ç†æ‰€æœ‰æ•°æ®
python scripts/complete_dialogue_processor.py

# 3. éªŒè¯è´¨é‡
python scripts/analyze_final_quality.py

# 4. å¦‚æœè´¨é‡ä¸‹é™ï¼Œè¿è¡Œæ‰«æ
python scripts/auto_scan_categories.py
```

## ğŸ”§ è„šæœ¬è¯´æ˜

### æ ¸å¿ƒå¤„ç†è„šæœ¬

1. **`complete_dialogue_processor.py`** - ä¸»å¤„ç†å™¨
   - å¤„ç†å¯¹è¯æ•°æ®
   - å»ºç«‹æ˜ å°„å…³ç³»
   - ç”Ÿæˆæœ€ç»ˆè¾“å‡º

2. **`generate_split_data.py`** - ç”ŸæˆSplitæ•°æ®
   - ä»åŸå§‹æ•°æ®ç”Ÿæˆsplitæ ¼å¼
   - è‡ªåŠ¨æ£€æµ‹æ•°æ®æ–‡ä»¶

3. **`auto_scan_categories.py`** - æ‰«æåˆ†ç±»
   - è¯†åˆ«æ–°çš„æ•°æ®æ¨¡å¼
   - ç”Ÿæˆåˆ†ç±»å»ºè®®

4. **`analyze_final_quality.py`** - è´¨é‡åˆ†æ
   - æ£€æŸ¥æ˜ å°„ç‡
   - éªŒè¯æ•°æ®å®Œæ•´æ€§

### æ•°æ®æå–è„šæœ¬

1. **`extract_characters.py`** - æå–è§’è‰²æ•°æ®
2. **`extract_items.py`** - æå–ç‰©å“æ•°æ®
3. **`extract_weapons.py`** - æå–æ­¦å™¨æ•°æ®
4. **`extract_enemies.py`** - æå–æ•Œäººæ•°æ®
5. **`extract_achievements.py`** - æå–æˆå°±æ•°æ®

## ğŸ“Š è´¨é‡æŒ‡æ ‡

å¤„ç†å®Œæˆåï¼Œä½ åº”è¯¥çœ‹åˆ°ï¼š

- **æ˜ å°„ç‡**: â‰¥80%
- **Quest Nameè¦†ç›–ç‡**: â‰¥90%
- **Unknownç‡**: â‰¤5%

å¦‚æœæŒ‡æ ‡ä¸è¾¾æ ‡ï¼Œè¿è¡Œï¼š
```bash
python scripts/auto_scan_categories.py
```

ç„¶åæ›´æ–° `scripts/complete_dialogue_processor.py` ä¸­çš„åˆ†ç±»ç³»ç»Ÿã€‚

## âš ï¸ å¸¸è§é—®é¢˜

### é—®é¢˜1ï¼šæ˜ å°„ç‡ä½äº80%

**åŸå› **: æ–°çš„flowæ¨¡å¼æ²¡æœ‰è¢«è¯†åˆ«

**è§£å†³**:
```bash
# 1. æ‰«ææ–°æ¨¡å¼
python scripts/auto_scan_categories.py

# 2. æŸ¥çœ‹è¾“å‡ºï¼Œæ‰¾å‡ºæ–°çš„pattern

# 3. æ›´æ–° scripts/complete_dialogue_processor.py ä¸­çš„åˆ†ç±»å­—å…¸

# 4. é‡æ–°å¤„ç†
python scripts/complete_dialogue_processor.py
```

### é—®é¢˜2ï¼šQuest Nameä¸ºç©º

**åŸå› **: TextMapä¸­çš„é”®åæ ¼å¼å˜åŒ–

**è§£å†³**:
1. æ£€æŸ¥ `TextMap/zh-Hans/MultiText.json` ä¸­çš„é”®åæ ¼å¼
2. æ›´æ–° `scripts/complete_dialogue_processor.py` ä¸­çš„æŸ¥æ‰¾é€»è¾‘

### é—®é¢˜3ï¼šæ–‡ä»¶æ ¼å¼ä¸å…¼å®¹

**åŸå› **: æ¸¸æˆæ›´æ–°æ”¹å˜äº†æ•°æ®æ ¼å¼

**è§£å†³**:
1. æ£€æŸ¥æ–°ç‰ˆæœ¬çš„æ–‡ä»¶æ ¼å¼
2. æ›´æ–°å¤„ç†è„šæœ¬ä»¥é€‚é…æ–°æ ¼å¼

## ğŸ“¦ æ•°æ®å¤‡ä»½

æ›´æ–°å‰ï¼Œè¯·å¤‡ä»½ï¼š

```bash
# å¤‡ä»½å½“å‰è¾“å‡º
cp dialogs_zh-Hans_complete.jsonl dialogs_zh-Hans_complete.jsonl.bak

# å¤‡ä»½é…ç½®æ–‡ä»¶
cp -r ConfigDB ConfigDB.bak
cp -r TextMap TextMap.bak
```

## ğŸ”„ å¿«é€Ÿæ›´æ–°æµç¨‹

å¦‚æœåªæ˜¯å¸¸è§„æ›´æ–°ï¼ˆä¸æ¶‰åŠé‡å¤§å˜æ›´ï¼‰ï¼š

```bash
cd final_output
python scripts/complete_dialogue_processor.py && python scripts/analyze_final_quality.py
```

## ğŸ“ æ›´æ–°æ—¥å¿—

æ¯æ¬¡æ›´æ–°åï¼Œè®°å½•ï¼š

1. æ›´æ–°æ—¥æœŸ
2. é¸£æ½®ç‰ˆæœ¬å·
3. æ•°æ®å˜åŒ–ï¼ˆæ–°å¢/åˆ é™¤è®°å½•æ•°ï¼‰
4. è´¨é‡æŒ‡æ ‡
5. é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ³•

## ğŸ‰ æˆåŠŸæ ‡å¿—

æ›´æ–°æˆåŠŸçš„æ ‡å¿—ï¼š

1. âœ… æ‰€æœ‰6ä¸ªè¾“å‡ºæ–‡ä»¶ç”Ÿæˆ
2. âœ… æ˜ å°„ç‡ â‰¥80%
3. âœ… Quest Nameè¦†ç›–ç‡ â‰¥90%
4. âœ… æ²¡æœ‰å¼‚å¸¸é”™è¯¯
5. âœ… æ•°æ®é‡æœ‰é¢„æœŸå˜åŒ–

---

**æ›´æ–°æ—¶é—´**: æ¯æ¬¡é¸£æ½®æ¸¸æˆæ›´æ–°å

**é¢„è®¡è€—æ—¶**: 5-10åˆ†é’Ÿ

**éš¾åº¦**: â­â­â­ ä¸­ç­‰
